<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="UTF-8">
    <!--Bootstrapに必要なCSSとJavaScriptを読み込み-->
    <link th:href="@{/webjars/bootstrap/3.3.7-1/css/bootstrap.min.css}" rel="stylesheet">
    <script th:src="@{/webjars/jquery/1.11.1/jquery.slim.min.js}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
            integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
            crossorigin="anonymous"></script>
    <script th:src="@{/webjars/bootstrap/3.3.7-1/js/bootstrap.min.css}"></script>
</head>
<body>
<!-- コンテンツ部分 -->
<div th:fragment="registryByOneStudent_contents">
    <div class="page-header" style="margin-bottom: 15px">
        <h1>各種登録</h1>
        <p style="margin-left: 3px">このページで成績、試験結果などを登録できます</p>
    </div>
    <div class="row col-sm-10">
        <div class="btn-group btn-group-justified" role="group">
            <a type="button" class="btn btn-primary" th:href="@{'/registry/schoolRecord'}"
               style="border-color: white">成績
            </a>
            <a type="button" class="btn btn-primary" th:href="@{'/registry/regularExam'}"
               style="border-color: white">定期試験
            </a>
            <a type="button" class="btn btn-primary" th:href="@{'/registry/practiceExam'}"
               style="border-color: white">模擬試験
            </a>
            <a type="button" class="btn btn-primary" th:href="@{'/registry/byOneStudent'}"
               style="border-color: white">個人登録
            </a>
        </div>
    </div>
    <div class="row col-sm-12">
        <form method="post" th:action="@{/registry/byOneStudent/grade}">
            <div class="form-group">
                <label for="grade" class="control-label col-xs-2"
                       style="margin: 7px 0 0 20px">登録する生徒の学年：</label>
                <div class="col-sm-2 col-xs-4">
                    <select class="form-control" id="grade" name="grade" onchange="this.form.submit()">
                        <option value="">学年</option>
                        <option value="中３" th:selected="${grade} == '中３'">中３</option>
                        <option value="中２" th:selected="${grade} == '中２'">中２</option>
                        <option value="中１" th:selected="${grade} == '中１'">中１</option>
                    </select>
                </div>
            </div>
        </form>
    </div>
    <div th:if="${gradeList}" class="panel panel-container col-sm-10" style="margin-top: 15px">
        <!-- 結果表示用 -->
        <span class="text-info" th:if="${result}" th:text="${result}"
              style="margin: 10px 0 0 15px; font-weight: bold"></span><br/>
        <div class="col-sm-10">
            <table class="table table-bordered table-condensed table-hover table-striped" style="margin-top: 15px">
                <tr>
                    <th class="info col-sm-2">名前</th>
                    <th class="info col-sm-2">校舎</th>
                    <th class="info col-sm-2">クラス</th>
                    <th class="info col-sm-2"></th>
                </tr>
                <tr th:each="student : ${gradeList}">
                    <td th:text="${student.studentName}"></td>
                    <td th:text="${student.school}"></td>
                    <td th:text="${student.homeRoom}"></td>
                    <td>
                        <a class="btn btn-primary"
                           th:href="@{'/registry/byOneStudent/' + ${student.studentId}}">登録</a>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div th:if="${studentEdit}" class="panel panel-container col-sm-12" style="margin-top: 15px">
        <div class="row col-sm-12">
            <ul class="cp_list">
                <li>成績・定期試験・模擬試験データの登録</li>
            </ul>
            <div class="col-sm-12">
                <div class="row col-sm-10" style="margin-top: 5px">
                    <div>どのデータを登録しますか？</div>
                    <form method="post" th:action="@{/registry/byOneStudent/kind}" style="margin-top: 5px">
                        <label class="radio-inline radio_text" style="margin: 5px 0 0 7px">
                            <input type="radio" name="radioName" value="schoolRecord" th:checked="${schoolRecord}"
                                   onchange="this.form.submit()"> 成績(内申)
                        </label>
                        <label class="radio-inline radio_text" style="margin: 5px 0 0 20px">
                            <input type="radio" name="radioName" value="regularExam" th:checked="${regularExam}"
                                   onchange="this.form.submit()"> 定期試験
                        </label>
                        <label class="radio-inline radio_text" style="margin: 5px 0 0 20px">
                            <input type="radio" name="radioName" value="practiceExam" th:checked="${practiceExam}"
                                   onchange="this.form.submit()"> 模擬試験
                        </label>
                    </form>
                </div>
            </div>
            <div th:if="${schoolRecord}" class="col-sm-12">
                <form method="post" th:action="@{/registry/byOneStudent/schoolRecord}" th:object="${schoolRecord}">
                    <!-- ３学期制の場合 -->
                    <div th:if="${thirdTerm}" class="row col-sm-10" style="margin-top: 20px">
                        <p style="font-size: medium">＜成績(内申)登録＞</p>
                        <div>
                            <p style="font-size: small">＜中学１年＞</p>
                            <table class="table table-bordered table-condensed table-hover table-striped">
                                <tr>
                                    <th class="info">学期</th>
                                    <th class="info">英語</th>
                                    <th class="info">数学</th>
                                    <th class="info">国語</th>
                                    <th class="info">理科</th>
                                    <th class="info">社会</th>
                                    <th class="info">音楽</th>
                                    <th class="info">美術</th>
                                    <th class="info">保体</th>
                                    <th class="info">技家</th>
                                </tr>
                                <tr th:object="${schoolRecord0}">
                                    <input type="hidden" name="grade" value="中１">
                                    <td width="7%">1<input type="hidden" name="termName" value="１学期"></td>
                                    <td><input class="form-control" type="text" th:value="*{english}" name="english"/>
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{math}" name="math"></td>
                                    <td><input class="form-control" type="text" th:value="*{japanese}" name="japanese">
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{science}" name="science">
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{socialStudies}"
                                               name="socialStudies"></td>
                                    <td><input class="form-control" type="text" th:value="*{music}" name="music"></td>
                                    <td><input class="form-control" type="text" th:value="*{art}" name="art"></td>
                                    <td><input class="form-control" type="text" th:value="*{pe}" name="pe"></td>
                                    <td><input class="form-control" type="text" th:value="*{techHome}" name="techHome">
                                    </td>
                                </tr>
                                <tr th:object="${schoolRecord1}">
                                    <input type="hidden" name="grade" value="中１">
                                    <td width="7%">2<input type="hidden" name="termName" value="２学期"></td>
                                    <td><input class="form-control" type="text" th:value="*{english}" name="english"/>
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{math}" name="math"></td>
                                    <td><input class="form-control" type="text" th:value="*{japanese}" name="japanese">
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{science}" name="science">
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{socialStudies}"
                                               name="socialStudies"></td>
                                    <td><input class="form-control" type="text" th:value="*{music}" name="music"></td>
                                    <td><input class="form-control" type="text" th:value="*{art}" name="art"></td>
                                    <td><input class="form-control" type="text" th:value="*{pe}" name="pe"></td>
                                    <td><input class="form-control" type="text" th:value="*{techHome}" name="techHome">
                                    </td>
                                </tr>
                                <tr th:object="${schoolRecord2}">
                                    <input type="hidden" name="grade" value="中１">
                                    <td width="7%">3<input type="hidden" name="termName" value="３学期"></td>
                                    <td><input class="form-control" type="text" th:value="*{english}" name="english"/>
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{math}" name="math"></td>
                                    <td><input class="form-control" type="text" th:value="*{japanese}" name="japanese">
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{science}" name="science">
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{socialStudies}"
                                               name="socialStudies"></td>
                                    <td><input class="form-control" type="text" th:value="*{music}" name="music"></td>
                                    <td><input class="form-control" type="text" th:value="*{art}" name="art"></td>
                                    <td><input class="form-control" type="text" th:value="*{pe}" name="pe"></td>
                                    <td><input class="form-control" type="text" th:value="*{techHome}" name="techHome">
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div th:if="${studentGrade == '中３' || studentGrade == '中２'}">
                            <p style="font-size: small">＜中学２年＞</p>
                            <table class="table table-bordered table-condensed table-hover table-striped">
                                <tr>
                                    <th class="info">学期</th>
                                    <th class="info">英語</th>
                                    <th class="info">数学</th>
                                    <th class="info">国語</th>
                                    <th class="info">理科</th>
                                    <th class="info">社会</th>
                                    <th class="info">音楽</th>
                                    <th class="info">美術</th>
                                    <th class="info">保体</th>
                                    <th class="info">技家</th>
                                </tr>
                                <tr th:object="${schoolRecord3}">
                                    <input type="hidden" name="grade" value="中２">
                                    <td width="7%">1<input type="hidden" name="termName" value="１学期"></td>
                                    <td><input class="form-control" type="text" th:value="*{english}" name="english"/>
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{math}" name="math"></td>
                                    <td><input class="form-control" type="text" th:value="*{japanese}" name="japanese">
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{science}" name="science">
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{socialStudies}"
                                               name="socialStudies"></td>
                                    <td><input class="form-control" type="text" th:value="*{music}" name="music"></td>
                                    <td><input class="form-control" type="text" th:value="*{art}" name="art"></td>
                                    <td><input class="form-control" type="text" th:value="*{pe}" name="pe"></td>
                                    <td><input class="form-control" type="text" th:value="*{techHome}" name="techHome">
                                    </td>
                                </tr>
                                <tr th:object="${schoolRecord4}">
                                    <input type="hidden" name="grade" value="中２">
                                    <td width="7%">2<input type="hidden" name="termName" value="２学期"></td>
                                    <td><input class="form-control" type="text" th:value="*{english}" name="english"/>
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{math}" name="math"></td>
                                    <td><input class="form-control" type="text" th:value="*{japanese}" name="japanese">
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{science}" name="science">
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{socialStudies}"
                                               name="socialStudies"></td>
                                    <td><input class="form-control" type="text" th:value="*{music}" name="music"></td>
                                    <td><input class="form-control" type="text" th:value="*{art}" name="art"></td>
                                    <td><input class="form-control" type="text" th:value="*{pe}" name="pe"></td>
                                    <td><input class="form-control" type="text" th:value="*{techHome}" name="techHome">
                                    </td>
                                </tr>
                                <tr th:object="${schoolRecord5}">
                                    <input type="hidden" name="grade" value="中２">
                                    <td width="7%">3<input type="hidden" name="termName" value="３学期"></td>
                                    <td><input class="form-control" type="text" th:value="*{english}" name="english"/>
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{math}" name="math"></td>
                                    <td><input class="form-control" type="text" th:value="*{japanese}" name="japanese">
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{science}" name="science">
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{socialStudies}"
                                               name="socialStudies"></td>
                                    <td><input class="form-control" type="text" th:value="*{music}" name="music"></td>
                                    <td><input class="form-control" type="text" th:value="*{art}" name="art"></td>
                                    <td><input class="form-control" type="text" th:value="*{pe}" name="pe"></td>
                                    <td><input class="form-control" type="text" th:value="*{techHome}" name="techHome">
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div th:if="${studentGrade == '中３'}">
                            <p style="font-size: small">＜中学３年＞</p>
                            <table class="table table-bordered table-condensed table-hover table-striped">
                                <tr>
                                    <th class="info">学期</th>
                                    <th class="info">英語</th>
                                    <th class="info">数学</th>
                                    <th class="info">国語</th>
                                    <th class="info">理科</th>
                                    <th class="info">社会</th>
                                    <th class="info">音楽</th>
                                    <th class="info">美術</th>
                                    <th class="info">保体</th>
                                    <th class="info">技家</th>
                                </tr>
                                <tr th:object="${schoolRecord6}">
                                    <input type="hidden" name="grade" value="中３">
                                    <td width="7%">1<input type="hidden" name="termName" value="１学期"></td>
                                    <td><input class="form-control" type="text" th:value="*{english}" name="english"/>
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{math}" name="math"></td>
                                    <td><input class="form-control" type="text" th:value="*{japanese}" name="japanese">
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{science}" name="science">
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{socialStudies}"
                                               name="socialStudies"></td>
                                    <td><input class="form-control" type="text" th:value="*{music}" name="music"></td>
                                    <td><input class="form-control" type="text" th:value="*{art}" name="art"></td>
                                    <td><input class="form-control" type="text" th:value="*{pe}" name="pe"></td>
                                    <td><input class="form-control" type="text" th:value="*{techHome}" name="techHome">
                                    </td>
                                </tr>
                                <tr th:object="${schoolRecord7}">
                                    <input type="hidden" name="grade" value="中３">
                                    <td width="7%">2<input type="hidden" name="termName" value="２学期"></td>
                                    <td><input class="form-control" type="text" th:value="*{english}" name="english"/>
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{math}" name="math"></td>
                                    <td><input class="form-control" type="text" th:value="*{japanese}" name="japanese">
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{science}" name="science">
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{socialStudies}"
                                               name="socialStudies"></td>
                                    <td><input class="form-control" type="text" th:value="*{music}" name="music"></td>
                                    <td><input class="form-control" type="text" th:value="*{art}" name="art"></td>
                                    <td><input class="form-control" type="text" th:value="*{pe}" name="pe"></td>
                                    <td><input class="form-control" type="text" th:value="*{techHome}" name="techHome">
                                    </td>
                                </tr>
                            </table>
                            <br/>
                            <button class="btn btn-primary btn-lg" type="submit">登録</button>
                        </div>
                    </div>
                    <!-- ２学期制の場合 -->
                    <div th:if="${secondTerm}" class="row col-sm-10" style="margin-top: 20px">
                        <p style="font-size: medium">＜成績(内申)登録＞</p>
                        <div>
                            <p style="font-size: small">＜中学１年＞</p>
                            <table class="table table-bordered table-condensed table-hover table-striped">
                                <tr>
                                    <th class="info">学期</th>
                                    <th class="info">英語</th>
                                    <th class="info">数学</th>
                                    <th class="info">国語</th>
                                    <th class="info">理科</th>
                                    <th class="info">社会</th>
                                    <th class="info">音楽</th>
                                    <th class="info">美術</th>
                                    <th class="info">保体</th>
                                    <th class="info">技家</th>
                                </tr>
                                <tr th:object="${schoolRecord0}">
                                    <input type="hidden" name="grade" value="中１">
                                    <td width="7%">前期<input type="hidden" name="termName" value="前期"></td>
                                    <td><input class="form-control" type="text" th:value="*{english}" name="english"/>
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{math}" name="math"></td>
                                    <td><input class="form-control" type="text" th:value="*{japanese}" name="japanese">
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{science}" name="science">
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{socialStudies}"
                                               name="socialStudies"></td>
                                    <td><input class="form-control" type="text" th:value="*{music}" name="music"></td>
                                    <td><input class="form-control" type="text" th:value="*{art}" name="art"></td>
                                    <td><input class="form-control" type="text" th:value="*{pe}" name="pe"></td>
                                    <td><input class="form-control" type="text" th:value="*{techHome}" name="techHome">
                                    </td>
                                </tr>
                                <tr th:object="${schoolRecord1}">
                                    <input type="hidden" name="grade" value="中１">
                                    <td width="7%">後期<input type="hidden" name="termName" value="後期"></td>
                                    <td><input class="form-control" type="text" th:value="*{english}" name="english"/>
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{math}" name="math"></td>
                                    <td><input class="form-control" type="text" th:value="*{japanese}" name="japanese">
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{science}" name="science">
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{socialStudies}"
                                               name="socialStudies"></td>
                                    <td><input class="form-control" type="text" th:value="*{music}" name="music"></td>
                                    <td><input class="form-control" type="text" th:value="*{art}" name="art"></td>
                                    <td><input class="form-control" type="text" th:value="*{pe}" name="pe"></td>
                                    <td><input class="form-control" type="text" th:value="*{techHome}" name="techHome">
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div th:if="${studentGrade == '中３' || studentGrade == '中２'}">
                            <p style="font-size: small">＜中学２年＞</p>
                            <table class="table table-bordered table-condensed table-hover table-striped">
                                <tr>
                                    <th class="info">学期</th>
                                    <th class="info">英語</th>
                                    <th class="info">数学</th>
                                    <th class="info">国語</th>
                                    <th class="info">理科</th>
                                    <th class="info">社会</th>
                                    <th class="info">音楽</th>
                                    <th class="info">美術</th>
                                    <th class="info">保体</th>
                                    <th class="info">技家</th>
                                </tr>
                                <tr th:object="${schoolRecord2}">
                                    <input type="hidden" name="grade" value="中２">
                                    <td width="7%">前期<input type="hidden" name="termName" value="前期"></td>
                                    <td><input class="form-control" type="text" th:value="*{english}" name="english"/>
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{math}" name="math"></td>
                                    <td><input class="form-control" type="text" th:value="*{japanese}" name="japanese">
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{science}" name="science">
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{socialStudies}"
                                               name="socialStudies"></td>
                                    <td><input class="form-control" type="text" th:value="*{music}" name="music"></td>
                                    <td><input class="form-control" type="text" th:value="*{art}" name="art"></td>
                                    <td><input class="form-control" type="text" th:value="*{pe}" name="pe"></td>
                                    <td><input class="form-control" type="text" th:value="*{techHome}" name="techHome">
                                    </td>
                                </tr>
                                <tr th:object="${schoolRecord3}">
                                    <input type="hidden" name="grade" value="中２">
                                    <td width="7%">後期<input type="hidden" name="termName" value="後期"></td>
                                    <td><input class="form-control" type="text" th:value="*{english}" name="english"/>
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{math}" name="math"></td>
                                    <td><input class="form-control" type="text" th:value="*{japanese}" name="japanese">
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{science}" name="science">
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{socialStudies}"
                                               name="socialStudies"></td>
                                    <td><input class="form-control" type="text" th:value="*{music}" name="music"></td>
                                    <td><input class="form-control" type="text" th:value="*{art}" name="art"></td>
                                    <td><input class="form-control" type="text" th:value="*{pe}" name="pe"></td>
                                    <td><input class="form-control" type="text" th:value="*{techHome}" name="techHome">
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div th:if="${studentGrade == '中３'}">
                            <p style="font-size: small">＜中学３年＞</p>
                            <table class="table table-bordered table-condensed table-hover table-striped">
                                <tr>
                                    <th class="info">学期</th>
                                    <th class="info">英語</th>
                                    <th class="info">数学</th>
                                    <th class="info">国語</th>
                                    <th class="info">理科</th>
                                    <th class="info">社会</th>
                                    <th class="info">音楽</th>
                                    <th class="info">美術</th>
                                    <th class="info">保体</th>
                                    <th class="info">技家</th>
                                </tr>
                                <tr th:object="${schoolRecord4}">
                                    <input type="hidden" name="grade" value="中３">
                                    <td width="7%">前期<input type="hidden" name="termName" value="前期"></td>
                                    <td><input class="form-control" type="text" th:value="*{english}" name="english"/>
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{math}" name="math"></td>
                                    <td><input class="form-control" type="text" th:value="*{japanese}" name="japanese">
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{science}" name="science">
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{socialStudies}"
                                               name="socialStudies"></td>
                                    <td><input class="form-control" type="text" th:value="*{music}" name="music"></td>
                                    <td><input class="form-control" type="text" th:value="*{art}" name="art"></td>
                                    <td><input class="form-control" type="text" th:value="*{pe}" name="pe"></td>
                                    <td><input class="form-control" type="text" th:value="*{techHome}" name="techHome">
                                    </td>
                                </tr>
                                <tr th:object="${schoolRecord5}">
                                    <input type="hidden" name="grade" value="中３">
                                    <td width="7%">後期<input type="hidden" name="termName" value="後期"></td>
                                    <td><input class="form-control" type="text" th:value="*{english}" name="english"/>
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{math}" name="math"></td>
                                    <td><input class="form-control" type="text" th:value="*{japanese}" name="japanese">
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{science}" name="science">
                                    </td>
                                    <td><input class="form-control" type="text" th:value="*{socialStudies}"
                                               name="socialStudies"></td>
                                    <td><input class="form-control" type="text" th:value="*{music}" name="music"></td>
                                    <td><input class="form-control" type="text" th:value="*{art}" name="art"></td>
                                    <td><input class="form-control" type="text" th:value="*{pe}" name="pe"></td>
                                    <td><input class="form-control" type="text" th:value="*{techHome}" name="techHome">
                                    </td>
                                </tr>
                            </table>
                            <br/>
                            <button class="btn btn-primary btn-lg" type="submit">登録</button>
                        </div>
                    </div>
                </form>
            </div>
            <div th:if="${regularExam}" class="col-sm-12">
                <div class="row col-sm-10" style="margin-top: 20px">
                    <p style="font-size: medium">＜定期試験結果登録＞</p>
                </div>
            </div>
            <div th:if="${practiceExam}" class="col-sm-12">
                <div class="row col-sm-10" style="margin-top: 20px">
                    <p style="font-size: medium">＜模擬試験結果登録＞</p>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>